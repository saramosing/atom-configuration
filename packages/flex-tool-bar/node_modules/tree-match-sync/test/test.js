var chai = require("chai");
var should = chai.should();

var treeMatch = require('../index.js');

describe('treeMatch:', function(){
  it('tree should be installed', function(){
    treeMatch.treeIsInstalled().should.equal(true);
  });

  it('match `test.js` in `./test`', function(){
    treeMatch('./test', 'test.js').should.have.length(1);
  });

  it('match `**/*.exe` in `./bin`', function(){
    treeMatch('./bin', '**/*.exe').should.have.length(1);
  });

  it('match `test.js` in `./` with `{ matchBase: true }`', function(){
    treeMatch('./', 'test.js', {
      matchBase: true,
      maxDepth: 2
    }).should.have.length(1);
  });

  it('don\'t match any `test.js` in `./`', function(){
    treeMatch('./', 'test.js').should.have.length(0);
  });

  it('return error object when `maxDepth` is less than `1`', function(){
    treeMatch('./test', 'test.js', { maxDepth: 0 }).should.have.property('status', 1);
  });
});
